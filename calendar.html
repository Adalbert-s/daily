{% extends 'users/layout.html' %}

{% block content %}
<div class="container" style="margin-top: 80px;">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="text-center">Calendar</h2>
                </div>
                <div class="panel-body">
                    <div id="calendar" style="background: white; padding: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1);"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .fc {
        max-width: 100%;
        background: white;
    }
    .fc .fc-toolbar {
        padding: 15px;
        margin-bottom: 0 !important;
    }
    .fc .fc-toolbar-title {
        font-size: 1.5em;
        color: #333;
    }
    .fc .fc-button {
        background-color: #337ab7;
        border-color: #2e6da4;
    }
    .fc .fc-button:hover {
        background-color: #286090;
        border-color: #204d74;
    }
    .fc .fc-daygrid-day {
        min-height: 100px;
    }
    .fc .fc-daygrid-day-number {
        padding: 5px;
        color: #666;
    }
    .fc .fc-day-today {
        background-color: #f8f9fa !important;
    }
    .fc .fc-event {
        cursor: pointer;
        padding: 2px 4px;
        margin: 1px 0;
        border-radius: 3px;
    }
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
        locale: 'pt-br',
        initialView: 'dayGridMonth',
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,dayGridWeek,dayGridDay'
        },
        buttonText: {
            today: 'Hoje',
            month: 'Mês',
            week: 'Semana',
            day: 'Dia'
        },
        events: [],
        editable: true,
        selectable: true,
        selectMirror: true,
        dayMaxEvents: true,
        select: function(info) {
            var title = prompt('Digite o título do evento:');
            if (title) {
                calendar.addEvent({
                    title: title,
                    start: info.startStr,
                    end: info.endStr,
                    allDay: info.allDay
                });
            }
            calendar.unselect();
        },
        eventClick: function(info) {
            if (confirm('Tem certeza que deseja deletar este evento?')) {
                info.event.remove();
            }
        }
    });
    calendar.render();
});
</script>
{% endblock %} 